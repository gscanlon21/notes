/* Element only styles */

html {
	display: flex;
	min-height: 100%;
	overflow-y: scroll;
	justify-content: center;
}

body {
	line-height: 1.5;
	color: color(--color-text);
	background-color: color(--color-bg);
	font-family: -apple-system, BlinkMacSystemFont, "Avenir Next", "Avenir",
		"Segoe UI", "Lucida Grande", "Helvetica Neue", "Helvetica", "Fira Sans",
		"Roboto", "Noto", "Droid Sans", "Cantarell", "Oxygen", "Ubuntu",
		"Franklin Gothic Medium", "Century Gothic", "Liberation Sans", sans-serif;

	max-width: var(--body-width);
	margin-block: $base-padding;
	margin-inline: 0;
	width: 100%;
	padding: 0;

	// Sticky footer
	display: flex;
	flex-direction: column;
	min-height: calc(100% - 2rem);
}

main {
	height: 100%;
	display: flex;
	position: relative;
	flex-direction: column;
	padding: $base-padding;
}

strong {
	display: inline-flex;
}

blockquote:not(:has(+p)) {
	// Reduce the margin of a block quote.
	margin-block-end: 0;
}

ul, ol, menu {
	padding-inline-start: $base-padding * 2;
	margin-block-start: $base-padding * 0.25;

	ul, ol, menu {
		margin-block-start: 0;
		margin-block-end: $base-padding * 0.1;
	}

	&:has(input[type="checkbox"]) {
		padding-inline-start: 0;

		& > li {
			list-style-type: none;
		}

		ul, ol, menu {
			padding-inline-start: $base-padding * 3;
		}
	}

	// Since the headers use display: inline-block, there's no margin collapse.
	&:has(+h1), &:has(+h2), &:has(+h3), &:has(+h4), &:has(+h5) {
		margin-block-end: 0;
	}

	& > li {
		& > blockquote {
			margin-block-start: 0;
			margin-inline-start: 0;
			margin-block-end: $base-padding * 0.5;
		}
	}
}

h1, h2, h3, h4, h5, p {
	margin-block-end: 0;
}

h1 {
	line-height: normal;
	font-size: $base-font-size * 2;
	margin-block-start: $base-padding * 1.75;

	+ul, +ol, +menu {
		margin-block-start: $base-padding * 0.5;
	}

	&:has(+h1) {
		display: inline-block;
	}

	&+h1 {
		font-size: $base-font-size * 1.3;
		margin-inline-start: $base-padding * 0.25;
		margin-block-start: 0;
		display: inline-block;
		font-style: italic;
		font-weight: 500;
	}
}

h2 {
	line-height: normal;
	font-size: $base-font-size * 1.7;
	margin-block-start: $base-padding * 1.3;

	+ul, +ol, +menu {
		margin-block-start: $base-padding * 0.5;
	}

	&:has(+h2) {
		display: inline-block;
	}

	&+h2 {
		font-size: $base-font-size * 1.2;
		margin-inline-start: $base-padding * 0.25;
		margin-block-start: 0;
		display: inline-block;
		font-style: italic;
		font-weight: 500;
	}
}

h3 {
	line-height: normal;
	font-size: $base-font-size * 1.5;
	margin-block-start: $base-padding * 1.2;

	+ul, +ol, +menu {
		margin-block-start: $base-padding * 0.5;
	}

	&:has(+h3) {
		display: inline-block;
	}

	&+h3 {
		font-size: $base-font-size * 1.1;
		margin-inline-start: $base-padding * 0.25;
		margin-block-start: 0;
		display: inline-block;
		font-style: italic;
		font-weight: 500;
	}
}

h4 {
	line-height: normal;
	font-size: $base-font-size * 1.3;
	margin-block-start: $base-padding * 1.1;

	+ul, +ol, +menu {
		margin-block-start: $base-padding * 0.5;
	}

	&:has(+h4) {
		display: inline-block;
	}

	&+h4 {
		font-size: $base-font-size * 1.0;
		margin-inline-start: $base-padding * 0.25;
		margin-block-start: 0;
		display: inline-block;
		font-style: italic;
		font-weight: 500;
	}
}

h5 {
	font-style: italic;
	line-height: normal;
	font-size: $base-font-size * 1.1;
	margin-block-start: $base-padding * 1.1;

	+ul, +ol, +menu {
		margin-block-start: $base-padding * 0.75;
	}

	&:has(+h5) {
		display: inline-block;
	}

	&+h5 {
		font-size: $base-font-size * 1.0;
		margin-inline-start: $base-padding * 0.25;
		margin-block-start: 0;
		display: inline-block;
		font-style: italic;
		font-weight: 500;
	}
}

p {
	font-size: medium;
	margin-block-start: $base-padding * 0.25;

	+p {
		margin-block-start: $base-padding * 1;
	}
}

a {
	color: color(--color-link);

	&:focus,
	&:hover {
		color: color(--color-link, 0.5);
	}

	&:visited {
		color: color(--color-link-visited);
	}

	&.unstyle {
		color: unset
	}
}

summary {
	cursor: pointer;
	max-width: $small-width;

	&:focus {
		outline: none;
	}
}
